üöÄ VERONA CARD - TIME PRODUCTION
================================================
üöÄ TEMPORAL-OPTIMIZED MODE: 2 GPU paralleli, timeout 10min, ottimizzato per temporal processing
Job ID: 19945716
Nodo: lrdn2389.leonardo.local
Data: Sat Sep 13 16:31:37 CEST 2025

üì¶ Setup ambiente HPC...
Loading python/3.11.6--gcc--8.5.0
  Loading requirement: bzip2/1.0.8-gp5wcz5 libmd/1.0.4-wja3f5q
    libbsd/0.11.7-cgxjopl expat/2.5.0-bptl3xw ncurses/6.4-asx3jea
    readline/8.2-nyw6mp6 gdbm/1.23-fs6otck libiconv/1.17-d7yvx2s
    xz/5.4.1-hubmwr5 zlib-ng/2.1.4-6htiapk libxml2/2.10.3-5eeeokp
    pigz/2.7-bopr5vp zstd/1.5.5-gawytfl tar/1.34-amqus5s gettext/0.22.3-2g7elif
    libffi/3.4.4-6r7brdq libxcrypt/4.4.35-ss2rzin sqlite/3.43.2
    util-linux-uuid/2.38.1-jkdi7kv
‚úÖ Python: Python 3.11.6
‚úÖ CUDA: Cuda compilation tools, release 12.3, V12.3.103

üîç GPU DETECTION:
0, NVIDIA A100-SXM-64GB, 65536 MiB, 43
1, NVIDIA A100-SXM-64GB, 65536 MiB, 43

üìÅ Directory temporanea: /leonardo_work/IscrC_LLM-Mob/tmp_ollama_19945716
üíæ Spazio disponibile: 740GB

üßπ Cleanup preventivo...

üöÄ AVVIO SISTEMA OLLAMA
========================
üîß STRATEGIA TEMPORAL-OPTIMIZED: Avvio sequenziale 2 GPU ottimizzate per temporal complexity

üîß Avvio GPU 0 su porta 39001...
‚úÖ GPU 0 PID: 43698 (NO TIMEOUT)
‚è≥ GPU 0 √® MASTER - attesa caricamento modello SENZA LIMITI...
   üåê API risponde, test modello...
   ‚úÖ GPU 0 PRONTA dopo 1 tentativi!

‚úÖ GPU 0 completamente operativa con modello caricato
‚è≥ Pausa 90s per stabilizzazione completa...

üîß Avvio GPU 1 per parallelismo controllato...

üîß Avvio GPU 1 su porta 39002...
‚úÖ GPU 1 PID: 43801 (NO TIMEOUT)
‚è≥ Pausa 60s per sincronizzazione...
üìù GPU 2 e 3 disabilitate per stabilit√† (possono essere riattivate)
‚è≥ Attesa finale stabilizzazione sistema (60s)...

üîç VERIFICA FINALE SISTEMA
===========================
GPU 0 (porta 39001): ‚úÖ OPERATIVA
GPU 1 (porta 39002): ‚úÖ OPERATIVA

üìä RISULTATO: 2/2 GPU operative (modalit√† ottimizzata)
‚úÖ Porte salvate: 39001,39002
üìä Starting Advanced GPU Monitor (ogni 60s)

üêç AVVIO PYTHON
===============

üîß OTTIMIZZATO: Processing con --append e configurazione bilanciata per velocit√†
2025-09-13 16:37:15 [INFO] üöÄ PRODUCTION MODE - 4 concurrent requests
2025-09-13 16:37:15 [INFO] Initializing Ollama connection manager...
2025-09-13 16:37:15 [WARNING] HostHealthMonitor initialized with empty host list
2025-09-13 16:37:15 [INFO] Setting up connections...
2025-09-13 16:37:15 [INFO] Multi-GPU configuration: 2 instances
2025-09-13 16:37:15 [INFO] Initialized with 2 hosts
2025-09-13 16:37:15 [INFO] Waiting for Ollama services to start...
2025-09-13 16:37:15 [INFO] Checking host 1/2: http://127.0.0.1:39001
2025-09-13 16:37:15 [INFO] Host http://127.0.0.1:39001 is ready
2025-09-13 16:37:15 [INFO] Checking host 2/2: http://127.0.0.1:39002
2025-09-13 16:37:15 [INFO] Host http://127.0.0.1:39002 is ready
2025-09-13 16:37:15 [INFO] All Ollama services are ready!
2025-09-13 16:37:15 [INFO] Checking available models on all hosts...
2025-09-13 16:37:15 [INFO] http://127.0.0.1:39001: ['mistral:7b', 'codellama:34b', 'deepseek-r1:32b', 'mixtral:8x22b', 'llama3.1:70b', 'qwen2.5:72b-instruct', 'qwen2.5:7b', 'qwen2.5:14b', 'deepseek-coder:33b', 'mixtral:8x7b', 'llama3.1:8b']
2025-09-13 16:37:15 [INFO] Model qwen2.5:7b available on http://127.0.0.1:39001
2025-09-13 16:37:15 [INFO] http://127.0.0.1:39002: ['mistral:7b', 'codellama:34b', 'deepseek-r1:32b', 'mixtral:8x22b', 'llama3.1:70b', 'qwen2.5:72b-instruct', 'qwen2.5:7b', 'qwen2.5:14b', 'deepseek-coder:33b', 'mixtral:8x7b', 'llama3.1:8b']
2025-09-13 16:37:15 [INFO] Model qwen2.5:7b available on http://127.0.0.1:39002
2025-09-13 16:37:15 [INFO] Found 12 files to process
2025-09-13 16:37:15 [INFO] Processing dati_2014.csv
2025-09-13 16:37:15 [INFO] Loading and preprocessing data...
2025-09-13 16:37:15 [INFO] Loaded 22 POIs from vc_site.csv
2025-09-13 16:37:17 [INFO] Loaded 370377 visits from dati_2014.csv
2025-09-13 16:37:17 [INFO] Valid visits after merge: 370377
2025-09-13 16:37:17 [INFO] Multi-visit cards: 70236 / 71557
2025-09-13 16:37:17 [INFO] Performing user clustering...
2025-09-13 16:37:24 [INFO] Processing 65892 cards
2025-09-13 16:37:24 [INFO] Using 4 workers for 2 healthy hosts
2025-09-13 16:37:24 [INFO] Waiting 60s for models to stabilize...
2025-09-13 16:38:24 [INFO] Running pre-flight check on all hosts...
2025-09-13 16:38:27 [INFO] ‚úÖ Pre-flight check passed for http://127.0.0.1:39001
2025-09-13 16:38:29 [INFO] ‚úÖ Pre-flight check passed for http://127.0.0.1:39002
2025-09-13 16:38:29 [INFO] ‚úÖ ALL PRE-FLIGHT CHECKS PASSED - Starting progressive warm-up
2025-09-13 16:38:29 [INFO] DEBUG MODE: Skipping complex warm-up - proceeding directly to processing
2025-09-13 16:38:29 [INFO] Simple pre-flight checks already completed - system ready
2025-09-13 16:38:29 [INFO] Skipping complex GPU preloading - pre-flight checks sufficient
2025-09-13 16:38:29 [INFO] üöÄ Starting production processing with batch processing...
2025-09-13 16:38:29 [INFO] Processing 65892 cards in batches of 4
Processing cards:   0%|          | 0/65892 [00:00<?, ?card/s]2025-09-13 16:38:29 [INFO] üîç PROCESS_CARD START: 040001523F3885 - Thread: CardWorker_0
2025-09-13 16:38:29 [INFO] üîç PROCESS_CARD START: 040002523F3885 - Thread: CardWorker_1
2025-09-13 16:38:29 [INFO] üîç PROCESS_CARD START: 040005523F3885 - Thread: CardWorker_2
2025-09-13 16:38:29 [INFO] üîç PROCESS_CARD START: 040006523F3885 - Thread: CardWorker_3
2025-09-13 16:38:29 [INFO] üîç LLM_REQUEST_START: Sending request for 040005523F3885 - Thread: CardWorker_2
2025-09-13 16:38:29 [INFO] üîç LLM_REQUEST_START: Sending request for 040001523F3885 - Thread: CardWorker_0
2025-09-13 16:38:29 [INFO] üîç LLM_REQUEST_START: Sending request for 040002523F3885 - Thread: CardWorker_1
2025-09-13 16:38:29 [INFO] üîç GET_CHAT_START: Thread CardWorker_2 requesting chat completion
2025-09-13 16:38:29 [INFO] üîç GET_CHAT_START: Thread CardWorker_0 requesting chat completion
2025-09-13 16:38:29 [INFO] üîç GET_CHAT_START: Thread CardWorker_1 requesting chat completion
2025-09-13 16:38:29 [INFO] üîç RATE_LIMITER_WAIT: Thread CardWorker_2 acquiring rate limiter (available: 4, timeout: 30s)
2025-09-13 16:38:29 [INFO] üîç RATE_LIMITER_WAIT: Thread CardWorker_0 acquiring rate limiter (available: 4, timeout: 30s)
2025-09-13 16:38:29 [INFO] üîç RATE_LIMITER_WAIT: Thread CardWorker_1 acquiring rate limiter (available: 4, timeout: 30s)
2025-09-13 16:38:29 [INFO] üîç RATE_LIMITER_OK: Thread CardWorker_2 acquired rate limiter successfully
2025-09-13 16:38:29 [INFO] üîç LLM_REQUEST_START: Sending request for 040006523F3885 - Thread: CardWorker_3
2025-09-13 16:38:29 [INFO] üîç RATE_LIMITER_OK: Thread CardWorker_0 acquired rate limiter successfully
2025-09-13 16:38:29 [INFO] üîç RATE_LIMITER_OK: Thread CardWorker_1 acquired rate limiter successfully
2025-09-13 16:38:29 [INFO] üîç CIRCUIT_BREAKER_START: Thread CardWorker_2 entering circuit breaker
2025-09-13 16:38:29 [INFO] üîç GET_CHAT_START: Thread CardWorker_3 requesting chat completion
2025-09-13 16:38:29 [INFO] üîç CIRCUIT_BREAKER_START: Thread CardWorker_0 entering circuit breaker
2025-09-13 16:38:29 [INFO] üîç CIRCUIT_BREAKER_START: Thread CardWorker_1 entering circuit breaker
2025-09-13 16:38:29 [INFO] üîç HTTP_REQUEST_START: Thread CardWorker_2 making HTTP request
2025-09-13 16:38:29 [INFO] üîç RATE_LIMITER_WAIT: Thread CardWorker_3 acquiring rate limiter (available: 1, timeout: 30s)
2025-09-13 16:38:29 [INFO] üîç HTTP_REQUEST_START: Thread CardWorker_0 making HTTP request
2025-09-13 16:38:29 [INFO] üîç HTTP_REQUEST_START: Thread CardWorker_1 making HTTP request
2025-09-13 16:38:29 [INFO] üîç RATE_LIMITER_OK: Thread CardWorker_3 acquired rate limiter successfully
2025-09-13 16:38:29 [INFO] üîç CIRCUIT_BREAKER_START: Thread CardWorker_3 entering circuit breaker
2025-09-13 16:38:29 [INFO] üîç HTTP_REQUEST_START: Thread CardWorker_3 making HTTP request

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üìä GPU STATUS - 2025-09-13 16:39:46
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
GPU 0: üí§ IDLE
  Compute:   0% | Memory:   0% ( 1278/ 65536 MB)
  Temp: 44¬∞C | Power:  79.21 W

GPU 1: üí§ IDLE
  Compute:   0% | Memory:   0% ( 1278/ 65536 MB)
  Temp: 43¬∞C | Power:  78.00 W

üîÑ Processi Ollama (modalit√† conservativa):
  GPU 0 (PID 43698): ‚úÖ CPU: 5.2% | RAM: 1.1GB | Port: 39001
    ‚îî‚îÄ API: ‚úÖ Responsive
  GPU 1 (PID 43801): ‚úÖ CPU: 7.2% | RAM: 1.1GB | Port: 39002
    ‚îî‚îÄ API: ‚úÖ Responsive

üêç Python Processing:
  Cards processed: 1
  Success rate: 0
0
  Errors: 0
0
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üìä GPU STATUS - 2025-09-13 16:42:47
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
GPU 0: üí§ IDLE
  Compute:   0% | Memory:   0% ( 1278/ 65536 MB)
  Temp: 44¬∞C | Power:  79.21 W

GPU 1: üí§ IDLE
  Compute:   0% | Memory:   0% ( 1278/ 65536 MB)
  Temp: 43¬∞C | Power:  78.08 W

üîÑ Processi Ollama (modalit√† conservativa):
  GPU 0 (PID 43698): ‚úÖ CPU: 3.7% | RAM: 1.1GB | Port: 39001
    ‚îî‚îÄ API: ‚úÖ Responsive
  GPU 1 (PID 43801): ‚úÖ CPU: 4.5% | RAM: 1.1GB | Port: 39002
    ‚îî‚îÄ API: ‚úÖ Responsive

üêç Python Processing:
  Cards processed: 1
  Success rate: 0
0
  Errors: 0
0
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üìä GPU STATUS - 2025-09-13 16:45:48
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
GPU 0: üí§ IDLE
  Compute:   0% | Memory:   0% ( 1278/ 65536 MB)
  Temp: 43¬∞C | Power:  78.94 W

GPU 1: üí§ IDLE
  Compute:   0% | Memory:   0% ( 1278/ 65536 MB)
  Temp: 43¬∞C | Power:  77.81 W

üîÑ Processi Ollama (modalit√† conservativa):
  GPU 0 (PID 43698): ‚úÖ CPU: 2.9% | RAM: 1.1GB | Port: 39001
    ‚îî‚îÄ API: ‚úÖ Responsive
  GPU 1 (PID 43801): ‚úÖ CPU: 3.3% | RAM: 1.1GB | Port: 39002
    ‚îî‚îÄ API: ‚úÖ Responsive

üêç Python Processing:
  Cards processed: 1
  Success rate: 0
0
  Errors: 0
0
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
