ğŸš€ VERONA CARD HPC OTTIMIZZATO - VERSIONE STABILE
================================================
Job ID: 19296561
Nodo: lrdn3076.leonardo.local
Data: Sun Aug 24 09:59:25 CEST 2025
ğŸ¯ ModalitÃ : Produzione stabile (4x A100, anti-contention)

ğŸ“¦ Setup ambiente HPC...
Loading python/3.11.6--gcc--8.5.0
  Loading requirement: bzip2/1.0.8-gp5wcz5 libmd/1.0.4-wja3f5q
    libbsd/0.11.7-cgxjopl expat/2.5.0-bptl3xw ncurses/6.4-asx3jea
    readline/8.2-nyw6mp6 gdbm/1.23-fs6otck libiconv/1.17-d7yvx2s
    xz/5.4.1-hubmwr5 zlib-ng/2.1.4-6htiapk libxml2/2.10.3-5eeeokp
    pigz/2.7-bopr5vp zstd/1.5.5-gawytfl tar/1.34-amqus5s gettext/0.22.3-2g7elif
    libffi/3.4.4-6r7brdq libxcrypt/4.4.35-ss2rzin sqlite/3.43.2
    util-linux-uuid/2.38.1-jkdi7kv
âœ… Python: Python 3.11.6
âœ… CUDA: Cuda compilation tools, release 12.3, V12.3.103

ğŸ” GPU DETECTION:
0, NVIDIA A100-SXM-64GB, 65536 MiB, 43
1, NVIDIA A100-SXM-64GB, 65536 MiB, 44
2, NVIDIA A100-SXM-64GB, 65536 MiB, 43
3, NVIDIA A100-SXM-64GB, 65536 MiB, 43
SLURM GPUs: 4

ğŸ’¾ LEONARDO BOOSTER: Setup spazio temporaneo ottimizzato...
ğŸ“Š Spazio /tmp Leonardo Booster: 10GB disponibili su ~10GB totali
âœ… Configurazione Leonardo Booster:
   ğŸ“ /tmp originale: 10GB (TROPPO PICCOLO per Mixtral)
   ğŸ“ Directory custom: /leonardo_work/IscrC_LLM-Mob/tmp_ollama_19296561
   ğŸ’¾ Spazio $WORK disponibile: 951GB
   ğŸ¯ Mixtral richiede ~26GB temporanei - OK con $WORK
ğŸ“‹ Variabili temporanee configurate:
   TMPDIR=/leonardo_work/IscrC_LLM-Mob/tmp_ollama_19296561
   OLLAMA_TMPDIR=/leonardo_work/IscrC_LLM-Mob/tmp_ollama_19296561
   OLLAMA_CACHE_DIR=/leonardo_work/IscrC_LLM-Mob/.ollama/cache

ğŸ§¹ Cleanup preventivo Leonardo Booster...
ğŸ” Stato spazio post-cleanup:
ğŸ’¾ /tmp: 10G disponibili
ğŸ’¾ $WORK: 952G disponibili
ğŸ“‚ Directory temporanea: total 8.0K
drwx------ 2 smattiol interactive   4.0K Aug 24 09:59 .
drwxrwx--- 9 smattiol IscrC_LLM-Mob 4.0K Aug 24 09:59 ..
ğŸ” Configurazioni Ollama attive:
OLLAMA_BATCH_SIZE=1024
OLLAMA_CACHE_DIR=/leonardo_work/IscrC_LLM-Mob/.ollama/cache
OLLAMA_CONTEXT_SIZE=4096
OLLAMA_CUDA_MEMORY_FRACTION=0.85
OLLAMA_DEBUG=1
OLLAMA_FLASH_ATTENTION=1
OLLAMA_GPU_LAYERS=-1
OLLAMA_KEEP_ALIVE=4h
OLLAMA_LLM_LIBRARY=cuda_v12
OLLAMA_LOAD_TIMEOUT=3600
OLLAMA_MAX_CONCURRENT_DOWNLOADS=1
OLLAMA_MAX_LOADED_MODELS=1
OLLAMA_MAX_QUEUE=1
OLLAMA_MAX_VRAM_USAGE=0.85
OLLAMA_MODELS=/leonardo_work/IscrC_LLM-Mob/.ollama/models
OLLAMA_NUM_PARALLEL=1
OLLAMA_ORIGINS=*
OLLAMA_PREDICTION_TOKENS=512
OLLAMA_REQUEST_TIMEOUT=600
OLLAMA_RUNNER_CACHE_SIZE=8GB
OLLAMA_TMPDIR=/leonardo_work/IscrC_LLM-Mob/tmp_ollama_19296561
OLLAMA_VERBOSE=1

ğŸ§¹ Cleanup preventivo...
ğŸ” Controllo stato GPU post-cleanup...
0, NVIDIA A100-SXM-64GB, 2 MiB, 43
1, NVIDIA A100-SXM-64GB, 2 MiB, 43
2, NVIDIA A100-SXM-64GB, 2 MiB, 43
3, NVIDIA A100-SXM-64GB, 2 MiB, 42
# gpu         pid  type    sm    mem    enc    dec    command
# Idx           #   C/G     %      %      %      %    name
    0          -     -     -     -     -     -   -              
    1          -     -     -     -     -     -   -              
    2          -     -     -     -     -     -   -              
    3          -     -     -     -     -     -   -              

ğŸš€ Avvio server Ollama con anti-contention...

ğŸš€ Avvio server Ollama con anti-contention POTENZIATO...
ğŸ”¡ Avvio istanza 1/4 (MASTER)...
/var/spool/slurmd/job19296561/slurm_script: line 297: start_ollama_instance_robust: command not found
âŒ Fallito avvio GPU 0 - abort
ğŸ§¹ CLEANUP LEONARDO BOOSTER...
ğŸ—‘ï¸ Cleanup directory temporanea Leonardo: /leonardo_work/IscrC_LLM-Mob/tmp_ollama_19296561
   ğŸ“Š Dimensione da rimuovere: 4.0K
   âœ… Spazio liberato su $WORK
ğŸ§¹ Cleanup vecchie directory temporanee...
âœ… Cleanup Leonardo Booster completato
