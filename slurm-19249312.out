🚀 LLM-MOB CONSERVATIVE PRODUCTION RUN
=====================================
Job ID: 19249312
Nodo: lrdn3381.leonardo.local
Data: Thu Aug 21 18:56:45 CEST 2025
💡 MODALITÀ: Richiesta risorse minime per schedulazione rapida

📦 Caricamento moduli e ambiente...
Loading python/3.11.6--gcc--8.5.0
  Loading requirement: bzip2/1.0.8-gp5wcz5 libmd/1.0.4-wja3f5q
    libbsd/0.11.7-cgxjopl expat/2.5.0-bptl3xw ncurses/6.4-asx3jea
    readline/8.2-nyw6mp6 gdbm/1.23-fs6otck libiconv/1.17-d7yvx2s
    xz/5.4.1-hubmwr5 zlib-ng/2.1.4-6htiapk libxml2/2.10.3-5eeeokp
    pigz/2.7-bopr5vp zstd/1.5.5-gawytfl tar/1.34-amqus5s gettext/0.22.3-2g7elif
    libffi/3.4.4-6r7brdq libxcrypt/4.4.35-ss2rzin sqlite/3.43.2
    util-linux-uuid/2.38.1-jkdi7kv
✅ Python: Python 3.11.6
✅ Virtual env: /leonardo_work/IscrC_LLM-Mob/venv
✅ CUDA: Cuda compilation tools, release 12.3, V12.3.103

🔍 INFO GPU:
name, memory.total [MiB], memory.used [MiB], utilization.gpu [%], temperature.gpu
NVIDIA A100-SXM-64GB, 65536 MiB, 2 MiB, 0 %, 42
CUDA_VISIBLE_DEVICES: 0

⚙️ Configurazione Ollama...
✅ Versione Ollama: 0.3.14

🚀 Avvio server Ollama (modalità conservative)...
✅ Porta server: 39003
🧹 Pulizia processi precedenti...
✅ Server PID: 719865
✅ Log file: ollama_conservative.log

⏳ Attesa avvio server (max 60s)...
   ⏱️ Attesa... (20s)
     time=2025-08-21T18:56:57.752+02:00 level=INFO source=routes.go:1205 msg="Listening on 127.0.0.1:39003 (version 0.3.14)"
     time=2025-08-21T18:56:57.878+02:00 level=INFO source=common.go:135 msg="extracting embedded files" dir=/tmp/ollama3915432044/runners
✅ Server operativo dopo 24s

🔥 Preparazione modello...
📋 Modelli disponibili:
  ✅ deepseek-coder:33b
  ✅ mixtral:8x7b
  ✅ llama3.1:8b

🎯 AVVIO PRODUZIONE CONSERVATIVE
================================
✅ Modalità conservative attiva per schedulazione rapida
💡 Elaborazione con risorse minime ma efficace

📦 Verifica dipendenze Python...
📁 Directory risultati: /leonardo_work/IscrC_LLM-Mob/LLM-Mob-As-Mobility-Interpreter/results/
🚀 AVVIO SCRIPT CONSERVATIVE...
💡 Limite 1000 utenti per rispettare finestra temporale

2025-08-21 18:59:42,009 WARNING: ⚠️ Timeout tentativo 1/3
2025-08-21 19:00:23,756 INFO: ✅ Ollama test passed - Response: 'Hello'
2025-08-21 19:00:23,765 INFO: 🎯 Trovati 12 file da elaborare
2025-08-21 19:00:23,765 INFO: 
🔍 Controllo dati_2014.csv...
2025-08-21 19:00:23,769 INFO: 
======================================================================
2025-08-21 19:00:23,769 INFO: ▶  PROCESSO FILE: dati_2014.csv
2025-08-21 19:00:23,769 INFO: ======================================================================
2025-08-21 19:00:23,769 INFO: ▶  ho caricato e pulito i dati
2025-08-21 19:00:23,966 INFO: [load_pois] 22 POI letti da /leonardo_work/IscrC_LLM-Mob/LLM-Mob-As-Mobility-Interpreter/data/verona/vc_site.csv
2025-08-21 19:00:25,688 INFO: [load_visits] 370377 timbrature da /leonardo_work/IscrC_LLM-Mob/LLM-Mob-As-Mobility-Interpreter/data/verona/dataset_veronacard_2014_2020/dati_2014.csv
2025-08-21 19:00:26,004 INFO: [merge] visite valide dopo merge: 370377
2025-08-21 19:00:26,168 INFO: [filter] card multi-visita: 70236 / 71557
2025-08-21 19:00:32,293 INFO: ▶  ho fatto il clustering
👉 Porta letta da ollama_port.txt: '39003'
👉 Provo a contattare http://127.0.0.1:39003/api/tags
📂 Working dir: /leonardo_work/IscrC_LLM-Mob/LLM-Mob-As-Mobility-Interpreter
📄 Contenuto di ollama_port.txt: '39003'
🔄 Attesa Ollama su http://127.0.0.1:39003...
✓ Ollama risponde con status 200
✓ Runner LLaMA completamente attivo
🎉 Connessione Ollama stabilita con successo!
Card:   0%|          | 0/1000 [00:00<?, ?card/s]Card:   0%|          | 1/1000 [00:08<2:15:13,  8.12s/card]Card:   0%|          | 2/1000 [00:10<1:17:47,  4.68s/card]Card:   0%|          | 3/1000 [00:12<58:55,  3.55s/card]  Card:   0%|          | 4/1000 [00:15<52:34,  3.17s/card]Card:   0%|          | 5/1000 [00:17<49:30,  2.99s/card]Card:   1%|          | 6/1000 [00:19<39:23,  2.38s/card]Card:   1%|          | 7/1000 [00:21<38:16,  2.31s/card]Card:   1%|          | 8/1000 [00:23<37:41,  2.28s/card]Card:   1%|          | 9/1000 [00:25<36:26,  2.21s/card]Card:   1%|          | 10/1000 [00:27<36:12,  2.19s/card]Card:   1%|          | 11/1000 [00:29<36:05,  2.19s/card]Card:   1%|          | 12/1000 [00:32<36:40,  2.23s/card]Card:   1%|▏         | 13/1000 [00:33<31:00,  1.88s/card]Card:   1%|▏         | 14/1000 [00:36<35:30,  2.16s/card]Card:   2%|▏         | 15/1000 [00:38<34:54,  2.13s/card]Card:   2%|▏         | 16/1000 [00:40<35:30,  2.17s/card]Card:   2%|▏         | 17/1000 [00:41<31:30,  1.92s/card]Card:   2%|▏         | 18/1000 [00:44<33:57,  2.07s/card]Card:   2%|▏         | 19/1000 [00:45<31:16,  1.91s/card]Card:   2%|▏         | 20/1000 [00:47<29:12,  1.79s/card]Card:   2%|▏         | 21/1000 [00:48<25:29,  1.56s/card]Card:   2%|▏         | 22/1000 [00:51<34:28,  2.12s/card]Card:   2%|▏         | 23/1000 [00:54<38:00,  2.33s/card]Card:   2%|▏         | 24/1000 [00:56<38:15,  2.35s/card]Card:   2%|▎         | 25/1000 [00:58<32:54,  2.03s/card]Card:   3%|▎         | 26/1000 [00:59<29:59,  1.85s/card]Card:   3%|▎         | 27/1000 [01:01<32:20,  1.99s/card]Card:   3%|▎         | 28/1000 [01:03<31:44,  1.96s/card]Card:   3%|▎         | 29/1000 [01:06<34:14,  2.12s/card]Card:   3%|▎         | 30/1000 [01:08<34:27,  2.13s/card]Card:   3%|▎         | 31/1000 [01:10<35:41,  2.21s/card]Card:   3%|▎         | 32/1000 [01:12<33:46,  2.09s/card]Card:   3%|▎         | 33/1000 [01:13<29:33,  1.83s/card]Card:   3%|▎         | 34/1000 [01:15<28:51,  1.79s/card]Card:   4%|▎         | 35/1000 [01:17<31:48,  1.98s/card]Card:   4%|▎         | 36/1000 [01:19<30:55,  1.93s/card]Card:   4%|▎         | 37/1000 [01:21<29:58,  1.87s/card]Card:   4%|▍         | 38/1000 [01:23<30:18,  1.89s/card]Card:   4%|▍         | 39/1000 [01:25<31:22,  1.96s/card]Card:   4%|▍         | 40/1000 [01:27<32:37,  2.04s/card]Card:   4%|▍         | 41/1000 [01:28<28:31,  1.78s/card]Card:   4%|▍         | 42/1000 [01:31<30:23,  1.90s/card]Card:   4%|▍         | 43/1000 [01:32<27:37,  1.73s/card]Card:   4%|▍         | 44/1000 [01:35<34:21,  2.16s/card]Card:   4%|▍         | 45/1000 [01:37<35:02,  2.20s/card]Card:   5%|▍         | 46/1000 [01:39<30:27,  1.92s/card]Card:   5%|▍         | 47/1000 [01:40<27:31,  1.73s/card]Card:   5%|▍         | 48/1000 [01:41<26:29,  1.67s/card]Card:   5%|▍         | 49/1000 [01:44<29:27,  1.86s/card]Card:   5%|▌         | 50/1000 [01:46<29:28,  1.86s/card]Card:   5%|▌         | 51/1000 [01:47<26:15,  1.66s/card]Card:   5%|▌         | 52/1000 [01:49<29:28,  1.87s/card]Card:   5%|▌         | 53/1000 [01:51<27:04,  1.72s/card]Card:   5%|▌         | 54/1000 [01:52<25:41,  1.63s/card]Card:   6%|▌         | 55/1000 [01:53<25:04,  1.59s/card]Card:   6%|▌         | 56/1000 [01:56<27:15,  1.73s/card]Card:   6%|▌         | 57/1000 [01:57<25:21,  1.61s/card]Card:   6%|▌         | 58/1000 [01:59<29:39,  1.89s/card]Card:   6%|▌         | 59/1000 [02:01<28:42,  1.83s/card]Card:   6%|▌         | 60/1000 [02:03<27:25,  1.75s/card]Card:   6%|▌         | 61/1000 [02:04<25:18,  1.62s/card]Card:   6%|▌         | 62/1000 [02:05<23:59,  1.53s/card]Card:   6%|▋         | 63/1000 [02:08<27:24,  1.75s/card]Card:   6%|▋         | 64/1000 [02:09<24:51,  1.59s/card]Card:   6%|▋         | 65/1000 [02:10<24:11,  1.55s/card]Card:   7%|▋         | 66/1000 [02:12<22:41,  1.46s/card]Card:   7%|▋         | 67/1000 [02:13<23:41,  1.52s/card]Card:   7%|▋         | 68/1000 [02:15<25:08,  1.62s/card]Card:   7%|▋         | 69/1000 [02:17<26:00,  1.68s/card]Card:   7%|▋         | 70/1000 [02:19<29:51,  1.93s/card]Card:   7%|▋         | 71/1000 [02:22<33:08,  2.14s/card]Card:   7%|▋         | 72/1000 [02:24<31:18,  2.02s/card]Card:   7%|▋         | 73/1000 [02:25<28:03,  1.82s/card]Card:   7%|▋         | 74/1000 [02:27<26:24,  1.71s/card]Card:   8%|▊         | 75/1000 [02:29<28:25,  1.84s/card]Card:   8%|▊         | 76/1000 [02:30<25:28,  1.65s/card]Card:   8%|▊         | 77/1000 [02:32<25:15,  1.64s/card]Card:   8%|▊         | 78/1000 [02:33<26:43,  1.74s/card]Card:   8%|▊         | 79/1000 [02:35<25:05,  1.63s/card]Card:   8%|▊         | 80/1000 [02:37<26:14,  1.71s/card]Card:   8%|▊         | 81/1000 [02:38<23:30,  1.53s/card]Card:   8%|▊         | 82/1000 [02:41<28:55,  1.89s/card]Card:   8%|▊         | 83/1000 [02:43<29:43,  1.94s/card]Card:   8%|▊         | 84/1000 [02:45<31:31,  2.06s/card]Card:   8%|▊         | 85/1000 [02:47<30:12,  1.98s/card]Card:   9%|▊         | 86/1000 [02:48<28:23,  1.86s/card]Card:   9%|▊         | 87/1000 [02:50<27:47,  1.83s/card]Card:   9%|▉         | 88/1000 [02:51<25:36,  1.69s/card]Card:   9%|▉         | 89/1000 [02:54<27:38,  1.82s/card]Card:   9%|▉         | 90/1000 [02:55<24:59,  1.65s/card]Card:   9%|▉         | 91/1000 [02:56<24:42,  1.63s/card]Card:   9%|▉         | 92/1000 [02:58<26:20,  1.74s/card]Card:   9%|▉         | 93/1000 [03:00<23:32,  1.56s/card]Card:   9%|▉         | 94/1000 [03:01<23:41,  1.57s/card]Card:  10%|▉         | 95/1000 [03:03<23:20,  1.55s/card]Card:  10%|▉         | 96/1000 [03:04<24:05,  1.60s/card]Card:  10%|▉         | 97/1000 [03:06<24:05,  1.60s/card]Card:  10%|▉         | 98/1000 [03:07<22:21,  1.49s/card]Card:  10%|▉         | 99/1000 [03:09<23:09,  1.54s/card]Card:  10%|█         | 100/1000 [03:11<24:59,  1.67s/card]Card:  10%|█         | 101/1000 [03:12<22:50,  1.52s/card]Card:  10%|█         | 102/1000 [03:15<27:54,  1.86s/card]Card:  10%|█         | 103/1000 [03:16<24:40,  1.65s/card]Card:  10%|█         | 104/1000 [03:17<24:08,  1.62s/card]Card:  10%|█         | 105/1000 [03:20<28:26,  1.91s/card]Card:  11%|█         | 106/1000 [03:21<25:24,  1.71s/card]Card:  11%|█         | 107/1000 [03:23<25:54,  1.74s/card]Card:  11%|█         | 108/1000 [03:26<32:45,  2.20s/card]Card:  11%|█         | 109/1000 [03:28<30:12,  2.03s/card]Card:  11%|█         | 110/1000 [03:31<35:03,  2.36s/card]Card:  11%|█         | 111/1000 [03:32<30:35,  2.06s/card]Card:  11%|█         | 112/1000 [03:35<33:06,  2.24s/card]Card:  11%|█▏        | 113/1000 [03:38<33:58,  2.30s/card]Card:  11%|█▏        | 114/1000 [03:39<29:53,  2.02s/card]Card:  12%|█▏        | 115/1000 [03:42<32:29,  2.20s/card]Card:  12%|█▏        | 116/1000 [03:43<31:06,  2.11s/card]Card:  12%|█▏        | 117/1000 [03:46<32:25,  2.20s/card]Card:  12%|█▏        | 118/1000 [03:50<39:30,  2.69s/card]Card:  12%|█▏        | 119/1000 [03:51<35:00,  2.38s/card]Card:  12%|█▏        | 120/1000 [03:53<30:31,  2.08s/card]Card:  12%|█▏        | 121/1000 [03:54<27:09,  1.85s/card]Card:  12%|█▏        | 122/1000 [03:56<27:00,  1.85s/card]Card:  12%|█▏        | 123/1000 [03:58<26:18,  1.80s/card]Card:  12%|█▏        | 124/1000 [03:59<26:34,  1.82s/card]Card:  12%|█▎        | 125/1000 [04:02<28:57,  1.99s/card]Card:  13%|█▎        | 126/1000 [04:04<31:56,  2.19s/card]Card:  13%|█▎        | 127/1000 [04:06<27:23,  1.88s/card]Card:  13%|█▎        | 128/1000 [04:07<25:28,  1.75s/card]Card:  13%|█▎        | 129/1000 [04:09<25:29,  1.76s/card]Card:  13%|█▎        | 130/1000 [04:11<27:16,  1.88s/card]Card:  13%|█▎        | 131/1000 [04:13<26:20,  1.82s/card]Card:  13%|█▎        | 132/1000 [04:15<26:23,  1.82s/card]Card:  13%|█▎        | 133/1000 [04:16<25:17,  1.75s/card]Card:  13%|█▎        | 134/1000 [04:17<23:07,  1.60s/card]Card:  14%|█▎        | 135/1000 [04:19<22:24,  1.55s/card]Card:  14%|█▎        | 136/1000 [04:21<23:00,  1.60s/card]Card:  14%|█▎        | 137/1000 [04:24<29:23,  2.04s/card]Card:  14%|█▍        | 138/1000 [04:25<25:38,  1.79s/card]Card:  14%|█▍        | 139/1000 [04:27<27:12,  1.90s/card]Card:  14%|█▍        | 140/1000 [04:29<26:02,  1.82s/card]Card:  14%|█▍        | 141/1000 [04:30<23:55,  1.67s/card]Card:  14%|█▍        | 142/1000 [04:32<26:53,  1.88s/card]Card:  14%|█▍        | 143/1000 [04:35<29:48,  2.09s/card]Card:  14%|█▍        | 144/1000 [04:37<30:20,  2.13s/card]Card:  14%|█▍        | 145/1000 [04:39<27:43,  1.95s/card]Card:  15%|█▍        | 146/1000 [04:40<26:05,  1.83s/card]Card:  15%|█▍        | 147/1000 [04:43<32:22,  2.28s/card]Card:  15%|█▍        | 148/1000 [04:45<29:50,  2.10s/card]Card:  15%|█▍        | 149/1000 [04:47<30:21,  2.14s/card]Card:  15%|█▌        | 150/1000 [04:49<29:30,  2.08s/card]Card:  15%|█▌        | 151/1000 [04:52<31:16,  2.21s/card]Card:  15%|█▌        | 152/1000 [04:54<29:05,  2.06s/card]Card:  15%|█▌        | 153/1000 [04:55<25:30,  1.81s/card]Card:  15%|█▌        | 154/1000 [04:56<23:19,  1.65s/card]Card:  16%|█▌        | 155/1000 [04:58<23:34,  1.67s/card]Card:  16%|█▌        | 156/1000 [04:59<21:16,  1.51s/card]Card:  16%|█▌        | 157/1000 [05:01<21:57,  1.56s/card]Card:  16%|█▌        | 158/1000 [05:02<21:53,  1.56s/card]Card:  16%|█▌        | 159/1000 [05:03<20:29,  1.46s/card]Card:  16%|█▌        | 160/1000 [05:06<23:52,  1.71s/card]Card:  16%|█▌        | 161/1000 [05:07<21:12,  1.52s/card]Card:  16%|█▌        | 162/1000 [05:08<20:51,  1.49s/card]Card:  16%|█▋        | 163/1000 [05:11<24:26,  1.75s/card]Card:  16%|█▋        | 164/1000 [05:12<25:08,  1.80s/card]Card:  16%|█▋        | 165/1000 [05:14<22:40,  1.63s/card]Card:  17%|█▋        | 166/1000 [05:17<30:17,  2.18s/card]slurmstepd: error: *** JOB 19249312 ON lrdn3381 CANCELLED AT 2025-08-21T19:05:50 ***

🧹 CLEANUP...
⏱️ Tempo totale job: 545 secondi (0h 9m)
📁 Risultati generati: 0 files
💾 Dimensione risultati: 4.0K
🔄 Shutdown graceful Ollama...
2025-08-21 19:05:50,781 ERROR: ❌  Errore richiesta: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response')) (tentativo 1/2)
2025-08-21 19:05:50,781 INFO: ⏳ Attendo 10s prima del prossimo tentativo...
✅ Cleanup completato
